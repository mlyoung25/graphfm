extends layout

block head
  script(src="https://cdn.jsdelivr.net/npm/chart.js")

block content
  script.
    var urlParams = new URLSearchParams(window.location.search);
    var token = urlParams.get('token');
    window.token = token; 

  .container
    h1#tokenValue
    canvas#myChart(width="400" height="400")

    script.
      document.getElementById('tokenValue').innerHTML = "Token: " + window.token; // This sets the token value as text in h1.
      
      var context = document.getElementById('myChart').getContext('2d');
      var chartData ={
        datasets: [{
            data: [
              {x: 20, y: 30, r: 15},
              {x: 40, y: 10, r: 10},
            ],
            backgroundColor: ["rgba(255, 99, 132, 0.2)"],
            borderColor: ["rgba(255, 99, 132, 1)"]
        }]
      };

      var myBubbleChart = new Chart(context, {
        type: 'bubble',
        data: chartData,
        options: {
          responsive: true,
          plugins: {
            title: {
              display: true,
              text: 'Bubble Chart Example'
            },
            tooltip: {
              mode: 'point'
            }
          }
        },
      });